# 課題03 Firebaseを使ったアプリ
## ①課題内容（Javascript/Firebase）
- FirebaseAuth(e-mail/password)を使用したユーザー認証 + FirebaseHostingの実験
- トップページ（index2.html）でユーザーID(email)とパスワードを入力し、Regisgerを押すとユーザーを登録する（登録ユーザーはFirebase上で確認）
- トップページ（index2.html）でユーザーID(email)とパスワードを入力し、SignInを押すとsuccess.htmlに遷移し、認証されたユーザー情報を表示する。
- success.htmlページでsignoutを押すと、サインアウトし、トップページに遷移する
- ログイン状態が生きている状態でトップページを開くと、画面遷移の機能が発動し、success画面に遷移する
- ログイン状態が無い状態でsuccess画面を開くと、サインアウトの機能が発動し、トップページに遷移する
 
## ②工夫した点・こだわった点
- 画面の遷移とユーザー認証情報の引き渡しを確認
-- 複数画面にわたるログイン情報の保持 → userオブジェクトの有無でログイン有無を判断
-- Firebaseオブジェクトの複数ページにわたる共用化 → authオブジェクトの受け渡しは実現できず、各ページでFirebase InitからgetAuthを行う必要がある状態
-- Firebase認証・アプリインポート機能のHTMLからの切り出し →　共用化を目指しHTMLからの切り出しは成功したが、認証とボタン押下時などの動作を切り離す事ができずhtml固有のjsファイルとして保持する必要があり共用化には使えない

## ③質問・疑問
- Firebaseにおけるimportからinitまでの初期化処理が複雑で各ページで同じコードを記述するのが煩雑なため、共用化に向けて諸々試行したがうまくいかなかった。モジュール化した切り出しも考えたが、結局、そのモジュールの呼び出しが必要になり、毎回記述するのと手間が変わらなかったので、共用化自体意味のない事なのかもしれないと判断し、現時点で断念した。この処理は毎回各ページごとに記述するのが正しいのかアドバイスをいただきたい。
- Firebase認証のConfig情報はjsonファイルで外出しすることを試みたがうまくいかず、苦肉の策でjsファイルでグローバル変数に格納する形でなんとか外出しには成功した。jsonファイルの読み込みはjQueryのgetjsonなど色々あるが、実装できるよう引き続き調査したい。

## ④その他（感想、シェアしたいことなんでも）
- ネット上の記事やマニュアルでは、firebaseUIを用いたauthの書き方が掲載されていたが、今回試行したv9モジュラー SDKでは対応していないらしく、この部分の思考は断念した。
https://firebase.google.com/docs/auth/web/firebaseui?hl=ja&authuser=0
